from sklearn import manifold
import numpy as np
import pickle
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
from fuzzywuzzy import fuzz
from scrape import Resource

pos = pickle.load(open("pos_bin","rb"))
dis_mat = pickle.load(open("matrixbin","rb"))
'''
x1 = input("Enter lower x ")/10.0
x2 = input("Enter upper x ")/10.0

y1 = input("Enter lower y ")/10.0
y2 = input("Enter upper y ")/10.0
'''

x1 = -2/10
x2 = -0/10
y1 = -2/10
y2 = -0/10

f = open("temp.txt","w")

selected = []

j = 0
for i in pos:
	if i[0] > x1 and i[0] < x2 and i[1] > y1 and i[1] <y2:
		print j
		selected.append(j)
		resources = pickle.load(open("Data/file"+str(j),"rb"))
		f.write(resources.name+"\n")
		f.write("https://malwr.com"+pickle.load(open("links","rb"))[j]+"\n")
		f.write(str(resources.avr)+"\n")
	j+=1 	

print dis_mat[:,selected][selected,:]

k = 0
res_list = []
for i in selected:
	print k
	pos = pickle.load(open("Data/file"+str(i-1),"rb"))
	res_list.append( pos.resources[0])
	k+=1
	if k == 3:
		break
