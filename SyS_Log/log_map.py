import glob, os

# Glob removes files that match string patterns
map(os.remove, glob.glob("pid=*"))

log = []
for i in range(1,5):
    file = open("log"+str(i)+".txt","r")
    log_i = 0
    for line in file:
        words = line.split()
        log.append([])
        for entry_i in range(0, len(words)):
            log[log_i].append(words[entry_i])
        log_i+=1

for log_index in log:
    pid = -1
    sys_num = -1
    for col in range(0,len(log_index)):
        row = log_index[col]
        if row[:row.index("=")] == "syscall":
            sys_num = col
        if row[:row.index("=")] == "pid":
            pid = col
    try:
        if not os.path.isfile(log_index[pid]+".txt"):
            f = open( log_index[pid]+".txt", "a").write("1x Case"+log_index[pid][log_index[pid].index("=")+1:]+" " )
    except IndexError:
        print "IndexError"
        print log_index
        print pid
        continue
    f = open( log_index[pid]+".txt", "a")
    sys_call = log_index[sys_num]
    f.write(sys_call[sys_call.index("=")+1:]+" ")
    f.close()